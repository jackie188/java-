# JVM总结

- [描述一下JVM内存模型以及分区，需要详细介绍每隔内存区域存放什么？](#描述一下JVM内存模型以及分区，需要详细介绍每隔内存区域存放什么？)

- [对象的创建方法，对象的内存分配，对象的访问定位](#对象的创建方法，对象的内存分配，对象的访问定位)
- [GC的两种判定方法，以及各有什么特点](#GC的两种判定方法，以及各有什么特点)

- [GC的三种收集方法：标记清除，复制算法，标记整理算法的原理和特点，分别使用在内存的哪一个区域，如果让你优化收集方法，有什么思路？](#GC的三种收集方法：标记清除，复制算法，标记整理算法的原理和特点，分别使用在内存的哪一个区域，如果让你优化收集方法，有什么思路？)

- [GC收集器有哪些，CMS收集器和G1收集器的特点](#GC收集器有哪些，CMS收集器和G1收集器的特点)

- [Minor GC,Major GC 和Full GC分别发生在什么时候，各有什么特点？](#Minor GC-Major GC和Full GC分别发生在什么时候各有什么特点？)

- [说说常用的内存调试工具？](#说说常用的内存调试工具？)

- [说说类加载的五个过程](#说说类加载的五个过程)
- [双亲委派模型，问什么需要双亲委派模型，有什么优点？](#双亲委派模型，问什么需要双亲委派模型，有什么优点？)
- [分派：静态分派和动态分派](#分派：静态分派和动态分派)
- [那些内存区域会发生OOM以及会进行GC？](#那些内存区域会发生OOM以及会进行GC？)

## 描述一下JVM内存模型以及分区，需要详细介绍每隔内存区域存放什么？

## 对象的创建方法，对象的内存分配，对象的访问定位



## GC的两种判定方法，以及各有什么特点

引用计数法和可达性分析法

## GC的三种收集方法：标记清除，复制算法，标记整理算法的原理和特点，分别使用在内存的哪一个区域，如果让你优化收集方法，有什么思路？



## GC收集器有哪些，CMS收集器和G1收集器的特点

## Minor GC,Major GC 和Full GC分别发生在什么时候，各有什么特点？



## 说说常用的内存调试工具？

jmap,jstack,jconsole

## 说说类加载的五个过程

类的加载主要是三个阶段，加载，链接（验证，准备，解析），初始化，其中在链接阶段又分为三个阶段。其中类的加载过程如下：

![1630830948135](https://tprzfbucket.oss-cn-beijing.aliyuncs.com/hadoop/202109/05/163549-672493.png)

每一个阶段的工作如下：

**加载阶段：**

1. 通过一个类的权限定名，获取定义此类的二进制字节流，注意这个字节流可以是经过编译器编译后产生的字节流，也可以是网络上的字节流文件。
2. 将这个字节流所代表的静态存储结构转化为方法区的运行时数据结构(也就是运行时数据区）。
3. 在堆内存中生成一个代表这个类的java. lang.class对象，作为方法区这个类的各种数据结构的访问入口。

**链接阶段：**

验证：验证经过第一个阶段后加载进来的字节码文件是否是正确的，防止危害虚拟机的安全。

准备：对类变量以及类分配内存并且初始化，常量在编译的时候已经进行内存分配和初始化操作。

解析：将常量池的符号引用转换为直接引用的过程。

**初始化阶段：**

初始化阶段就是执行类的构造器方法clinit()的过程。这个方法是jvm把类中的类变量和静态代码块组合起来形成的一个方法

**使用阶段：**使用类

**卸载阶段：**对类型进行卸载。

## 双亲委派模型，问什么需要双亲委派模型，有什么优点？

当一个类收到了类加载请求时，自己不会先去加载这个类，而是将其委派给父类去加载，如果父类不能加载，反馈给子类，由子类去完成类的加载；

![1630831572226](https://tprzfbucket.oss-cn-beijing.aliyuncs.com/hadoop/202109/05/164613-651750.png)

启动类加载器（引导类加载器 Bootstrap ClassLoader）:此加载器用来加载java的核心库（JAVA_HOME/jre/lib/rt.jar）下面的内容，用于提供jvm自身需要的类。

## 分派：静态分派和动态分派





## 那些内存区域会发生OOM以及会进行GC？

会发生OOM的内存区域：本地方法栈，虚拟机栈，堆区域，方法区

会发生GC的区域：堆区，方法区

既没有GC又没有OOM的区域：PC寄存器